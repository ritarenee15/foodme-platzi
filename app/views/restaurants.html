<fm-deliver-to></fm-deliver-to>


<div class="row-fluid">

  <div class="span3 fm-panel bg-gray-100 rounded-lg shadow-md p-4">
    <h4 class="font-sans text-lg text-gray-800">Filter Restaurants</h4>

    <form>

      <h5 class="font-sans text-md text-gray-800">Rating</h5>

      <fm-rating ng-model="$parent.filter.rating"></fm-rating>


      <h5 class="font-sans text-md text-gray-800">Price</h5>

      <fm-rating ng-model="$parent.filter.price" symbol="$"></fm-rating>


      <h5 class="font-sans text-md text-gray-800">Cuisine</h5>

      <div fm-checkbox-list ng-model="filter.cuisine">
        <label ng-repeat="(name, title) in CUISINE_OPTIONS" class="checkbox font-sans text-gray-800">
          <input type="checkbox" value="{{name}}"> {{title}}
        </label>
      </div>
    </form>
  </div>


  <div class="span9 fm-panel fm-restaurant-list bg-gray-100 rounded-lg shadow-md p-4">
    <h4 class="font-sans text-lg text-gray-800">
      <ng-pluralize count="restaurants.length"
                    when="{'0'    : 'No restaurants found. :-(',
                           'one'  : '1 restaurant found!',
                           'other': '{} restaurants found!'}">
      </ng-pluralize>
    </h4>

    <table class="table table-hover table-striped">
      <tr>
        <th><a href ng-click="sortBy('name')" class="font-sans text-gray-800 hover:text-gray-600">Name {{sortIconFor('name')}}</a></th>
        <th><a href ng-click="sortBy('price')" class="font-sans text-gray-800 hover:text-gray-600">Price {{sortIconFor('price')}}</a></th>
        <th><a href ng-click="sortBy('rating')" class="font-sans text-gray-800 hover:text-gray-600">Rating {{sortIconFor('rating')}}</a></th>
      </tr>
      <tr ng-repeat="restaurant in restaurants">
        <td>
          <a href="#/menu/{{restaurant.id}}" class="hover:text-gray-600">
            <img class="img-rounded pull-left mr-2" ng-src="img/restaurants/{{restaurant.id}}.jpg">
            <b class="font-sans text-gray-800">{{restaurant.name}}</b>
          </a>
          <p class="font-sans text-gray-800">{{restaurant.description}}</p>
        </td>
        <td>
          <fm-rating ng-model="$parent.restaurant.price" symbol="$" readonly="true" ></fm-rating>
        </td>
        <td>
          <fm-rating ng-model="$parent.restaurant.rating" readonly="true"></fm-rating>
        </td>
      </tr>
    </table>
  </div>
</div>
